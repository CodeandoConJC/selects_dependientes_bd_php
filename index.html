<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Selects dependientes con DB</title>
  </head>
  <body>
    <div class="container-fluid p-3 mb-3 text-center bg-success text-white">
      <div class="mt-2 mb-2">
        <img src="img/img01.png" height="100px">
      </div>
      <div class="fs-3">
        Selects dependientes con tablas de bases de datos
      </div>
      <div class="">
        HTML - Vanilla Javascript - PHP - Bootstrap v5
      </div>
    </div>
    <div class="container-fluid p-3 text-center">
      <div class="row justify-content-center text-center">
        <div class="col-md-3 m-1">
          <h4>Select Principal</h4>
          <div class="form-floating">
            <select class="form-select" id="cmb_prin" onchange="javascript:obtener_select_dep1();">
              <option value="0">Seleccione</option>
            </select>
            <label for="cmb_prin">Contenido de tabla</label>
          </div>
        </div>

        <div class="col-md-3 m-1">
          <h4>Select Dependiente 1</h4>
          <div class="form-floating">
            <select class="form-select" id="cmb_dep1" onchange="javascript:obtener_select_dep2();">
              <option value="0">Seleccione</option>
            </select>
            <label for="cmb_dep1">Contenido de tabla</label>
          </div>
        </div>

        <div class="col-md-3 m-1">
          <h4>Select Dependiente 2</h4>
          <div class="form-floating">
            <select class="form-select" id="cmb_dep2" onchange="javascript:mensaje_final();">
              <option value="0">Seleccione</option>
            </select>
            <label for="cmb_dep2">Contenido de tabla</label>
          </div>
        </div>

      </div>


      <div id="error_servidor" class="mt-4 mb-3 text-center text-danger fst-italic fs-6">

      </div>
      <div class="p-3 text-center">
        <button type="button" name="button" class="btn btn-primary p-3" onclick="javascript:recargar_select_principal();"> Recargar Select Principal</button>
      </div>
    </div>

    <div class="container-fluid mb-3">
      <div class="row justify-content-center">
        <div class="col-md-6 border shadow p-3">
          <div class="fw-bold mb-2">
            Notas sobre la versión
          </div>
          <div class="small">
            <ul>
              <li>Obtener los datos de usuarios de una tabla denominada usuarios y de coordenadas de la base de datos Ejemplos_kotlin</li>
              <li>Al cargar la página, se debe de cargar el primer select denominado "Select Principal"</li>
              <li>Al seleccionar un elemento del select principal, se debe enviar una petición al servidor PHP por medio de AJAX para colocar los resultados en el select dependiente 1.</li>
              <li>Al seleccionar una opción del select dependiente 1, se solicita nuevamente al servidor los datos a mostrar en el "Select dependiente 2"</li>
              <li>Al seleccionar un elemento del select dependiente 2, se muestra el contenido (texto) en un div. </li>
              <li>Para limpiar el contenido de todos los Select, se presiona el botón "Recargar select principal"</li>
              <li>Se utiliza vanilla Javascript. PHP del lado del servidor que entrega los resultados en un objeto JSON.</li>
              <li>Se adjunta base de datos en formato SQL, aunque, puedes colocar tu base de datos y tu tabla en los archivos de PHP.</li>
            </ul>
          </div>

          <div class="fw-bold">
            Recuerda, Codear, Codear es divertido !
          </div>
        </div>
      </div>
    </div>
  </body>
  <!-- Cambiar el directorio donde se encuentra Bootstrap -->
  <link href="../css/bootstrap.css" rel="stylesheet"/>
  <script src="../js/bootstrap.bundle.min.js"></script>
  <script src="js/basicoajax.js"></script>
  <script src="js/funciones.js"></script>
</html>
